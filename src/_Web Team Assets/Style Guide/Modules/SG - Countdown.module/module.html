{#
CHANGE LOG
---------------------
  Nhori - fix for https://issues.hubspotcentral.com/browse/BZ-6590?filter=21933 | removed `%p` in `|datetimeformat` 
#}

{# HubL Variable Logic #}
{%- set labelDays = 'Days' -%}
{%- set labelHours = 'Hours' -%}
{%- set labelMinutes = 'Minutes' -%}
{%- set labelSeconds = 'Seconds' -%}

{%- if is_spanish -%}
  {%- set labelDays = 'DÍAS' -%}
  {%- set labelHours = 'HORAS' -%}
  {%- set labelMinutes = 'MINUTOS' -%}
  {%- set labelSeconds = 'SEGUNDOS' -%}
{% elif is_german %}
  {%- set labelDays = 'Tage' -%}
  {%- set labelHours = 'Stunden' -%}
  {%- set labelMinutes = 'Minuten' -%}
  {%- set labelSeconds = 'Sekunden' -%}
{% elif is_french %}
  {%- set labelDays = 'JOURS' -%}
  {%- set labelHours = 'HEURES' -%}
  {%- set labelMinutes = 'MINUTES' -%}
  {%- set labelSeconds = 'SECONDES' -%}
{% elif is_japanese %}
  {%- set labelDays = '日' -%}
  {%- set labelHours = '時間' -%}
  {%- set labelMinutes = '分' -%}
  {%- set labelSeconds = '秒' -%}
{% elif is_portuguese %}
  {%- set labelDays = 'DIAS' -%}
  {%- set labelHours = 'HORAS' -%}
  {%- set labelMinutes = 'MINUTOS' -%}
  {%- set labelSeconds = 'SEGUNDOS' -%}
{% endif -%}
{# End HubL Variable Logic #}

{# Date in proper format #}
{%- set countdownDate = (module.countdown.date|datetimeformat('%m/%d/%Y %I:%M')) if is_japanese else  (module.countdown.date|datetimeformat('%m/%d/%Y %I:%M %p'))-%}

{%- set date = countdownDate  ~ (
  (' ' ~ module.countdown.timezone) if not module.countdown.timezone is equalto 'none'
) -%}

{# Theming #}
{%- set gradientTheme1 = '#00a4bd' if (module.options.background_theme is equalto 'dark') else '#ff7a59' -%}
{%- set gradientTheme2 = '#00bda5' if (module.options.background_theme is equalto 'dark') else '#ff8f59' -%}

{%- if module.countdown.date -%}
<section
  class="hsg-countdown"
  data-date="{{ date }}"
  data-background="{{ module.options.background_theme }}">
  <div class="hsg-countdown__layout">
    {% if module.optional_fields.header -%}
    <h2>{{ module.optional_fields.header }}</h2>
    {% endif -%}

    <svg width="304px" height="61px" viewBox="0 0 304 61" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>
        <linearGradient x1="50%" y1="100%" x2="50%" y2="0%" id="linearGradient-3">
          <stop stop-color="{{ gradientTheme1 }}" offset="0%"></stop>
          <stop stop-color="{{ gradientTheme2 }}" offset="100%"></stop>
        </linearGradient>
        <polygon id="path-4" points="21.9632432 1.27615227 21.9632432 22.7806977 0.428497297 22.7806977 0.428497297 1.27615227 21.9632432 1.27615227"></polygon>
      </defs>
      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="4-Days-of-Facebook" transform="translate(-572.000000, -1133.000000)">
          <g id="Programs-Tailored" transform="translate(-270.000000, 342.000000)">
            <path d="M844,850 L1144,850" id="Line-Copy-5" stroke="{{ gradientTheme2 }}" stroke-width="3" stroke-linecap="square"></path>
            <g id="cirlces-horizontal" transform="translate(937.000000, 791.000000)">
              <g id="cirlces" transform="translate(57.000000, 24.000000) rotate(-270.000000) translate(-57.000000, -24.000000) translate(33.000000, -33.000000)">
                <g id="Page-1">
                  <path d="M0.000259459459,95.8435568 C0.000259459459,105.749898 8.04220541,113.78042 17.9626378,113.78042 C27.8830703,113.78042 35.9250162,105.749898 35.9250162,95.8435568 C35.9250162,85.9372159 27.8830703,77.9066932 17.9626378,77.9066932 C8.04220541,77.9066932 0.000259459459,85.9372159 0.000259459459,95.8435568 M14.2199351,95.8435568 C14.2199351,93.7837841 15.8999351,92.1061705 17.9626378,92.1061705 C20.0266378,92.1061705 21.7040432,93.7837841 21.7040432,95.8435568 C21.7040432,97.904625 20.0266378,99.5809432 17.9626378,99.5809432 C15.8999351,99.5809432 14.2199351,97.904625 14.2199351,95.8435568" id="Fill-1" fill="url(#linearGradient-3)"></path>
                  <g id="Group-5" transform="translate(25.945946, 41.235355)">
                    <mask id="mask-5" fill="white">
                      <use xlink:href="#path-4"></use>
                    </mask>
                    <g id="Clip-4"></g>
                    <path d="M0.428497297,12.028425 C0.428497297,17.9667886 5.24925405,22.7806977 11.1960649,22.7806977 C17.1428757,22.7806977 21.9636324,17.9667886 21.9636324,12.028425 C21.9636324,6.09006136 17.1428757,1.27615227 11.1960649,1.27615227 C5.24925405,1.27615227 0.428497297,6.09006136 0.428497297,12.028425 M2.22265946,12.028425 C2.22265946,7.08756136 6.24817297,3.06776591 11.1960649,3.06776591 C16.1426595,3.06776591 20.1694703,7.08756136 20.1694703,12.028425 C20.1694703,16.9692886 16.1426595,20.9890841 11.1960649,20.9890841 C6.24817297,20.9890841 2.22265946,16.9692886 2.22265946,12.028425" id="Fill-3" fill="url(#linearGradient-3)" mask="url(#mask-5)"></path>
                  </g>
                  <path d="M29.8761081,53.2637795 C29.8761081,57.3457568 33.1907027,60.6556432 37.2784865,60.6556432 C41.3662703,60.6556432 44.6808649,57.3457568 44.6808649,53.2637795 C44.6808649,49.1818023 41.3662703,45.8719159 37.2784865,45.8719159 C33.1907027,45.8719159 29.8761081,49.1818023 29.8761081,53.2637795 M31.6702703,53.2637795 C31.6702703,50.1754159 34.1857297,47.6635295 37.2784865,47.6635295 C40.3712432,47.6635295 42.8854054,50.1754159 42.8854054,53.2637795 C42.8854054,56.3521432 40.3712432,58.8640295 37.2784865,58.8640295 C34.1857297,58.8640295 31.6702703,56.3521432 31.6702703,53.2637795" id="Fill-6" fill="url(#linearGradient-3)"></path>
                  <path d="M11.9064649,22.2108273 C15.8593297,22.2108273 19.0649514,25.4106 19.0649514,29.35785 C19.0649514,33.3051 15.8593297,36.5061682 11.9064649,36.5061682 C7.9523027,36.5061682 4.74797838,33.3051 4.74797838,29.35785 C4.74797838,25.4106 7.9523027,22.2108273 11.9064649,22.2108273" id="Fill-8" fill="url(#linearGradient-3)"></path>
                  <path d="M28.0569081,0.000259090909 C30.0378811,0.000259090909 31.6452324,1.60403182 31.6452324,3.58219091 C31.6452324,5.56035 30.0378811,7.16541818 28.0569081,7.16541818 C26.0759351,7.16541818 24.4685838,5.56035 24.4685838,3.58219091 C24.4685838,1.60403182 26.0759351,0.000259090909 28.0569081,0.000259090909" id="Fill-10" fill="url(#linearGradient-3)"></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>

    {%- if module.optional_fields.tagline -%}
    <h4>{{ module.optional_fields.tagline }}</h4>
    {% endif -%}

    {%- if module.optional_fields.top_description -%}
    <p>{{ module.optional_fields.top_description }}</p>
    {% endif -%}

    <div class="hsg-countdown__items">
      <div class="hsg-countdown__item" data-interval="days" data-content="00">
        <span class="hsg-countdown__label">{{ labelDays }}</span>
      </div>
      <div class="hsg-countdown__item" data-interval="hours" data-content="00">
        <span class="hsg-countdown__label">{{ labelHours }}</span>
      </div>
      <div class="hsg-countdown__item" data-interval="minutes" data-content="00">
        <span class="hsg-countdown__label">{{ labelMinutes }}</span>
      </div>
      <div class="hsg-countdown__item" data-interval="seconds" data-content="00">
        <span class="hsg-countdown__label">{{ labelSeconds }}</span>
      </div>
    </div>

    {%- if module.countdown.expiration_message -%}
    <h4 class="hsg-countdown__expired-text">{{ module.countdown.expiration_message }}</h4>
    {% endif -%}

    {%- if module.optional_fields.bottom_description -%}
    <p>{{ module.optional_fields.bottom_description }}</p>
    {% endif -%}
  </div>
</section>
{% endif -%}